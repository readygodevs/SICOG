@model IEnumerable<TesoreriaVS12.Areas.Tesoreria.Models.Ca_BancosModel>

@{
    ViewBag.Title = "Bancos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div id="_menu_lateral">
    @{ Html.RenderAction("Botonera", "Home", new { Area = "", ids = new List<object> {"bNuevo", "bImprimir","bSalir" } }); }
</div>
<h2>Catálogo de Bancos</h2>
@*<div class="btn btn-success js_agregar pull-right">
    <i class="fa fa-plus"></i> Agregar
</div>*@
<table id="tblBnc" class="table table-striped table-bordered">
    <thead>
        <tr>
            <th data-title="Descripcion">
                @Html.DisplayNameFor(model => model.Descripcion)
            </th>
            <th data-title="Ca_Cuentas.Id_CuentaFormato">
                @Html.DisplayNameFor(model => model.Id_Cuenta)
            </th>
            <th data-title="Acciones">

            </th>
        </tr>
    </thead>
    <tbody>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Descripcion)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ca_Cuentas.Id_CuentaFormato)
                </td>
                <td>
                    <div class="acciones">
                        @*<i class="fa fa-pencil js_editar" data-id="@item.Id_Banco" title="Editar" data-toggle="tooltip" data-placement="top"></i>*@
                        <i class="fa fa-bars js_detalles" data-id="@item.Id_Banco" title="Detalles" data-toggle="tooltip" data-placement="top"></i>
                        <i class="fa fa fa-trash-o js_eliminar" data-id="@item.Id_Banco" title="Eliminar" data-toggle="tooltip" data-placement="top"></i>
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>

@section scripts
{
<script src="~/Scripts/underscore.js"></script>
<script src="~/Scripts/Catalogos/Usuarios.js"></script>
<script src="~/Areas/Tesoreria/Scripts/Catalogos/Catalogos.js"></script>
<script>
    var aPos = -1;
    var RutaAdd = "@Url.Action("AgregarBanco", "Catalogos")";//"/Tesoreria/Catalogos/AgregarBanco";
    var RutaEdit = "@Url.Action("EditarBanco", "Catalogos")";//"/Tesoreria/Catalogos/EditarBanco";
    var RutaDelete = "@Url.Action("EliminarBanco", "Catalogos")";//"/Tesoreria/Catalogos/EliminarBanco";
    var RutaDetalles = "@Url.Action("DetallesBanco", "Catalogos")";//"/Tesoreria/Catalogos/DetallesBanco";
    var TableId = "tblBnc";
    var FrmId = "frmBnc";
    var Propiedades = '{ "Id" : "response.Registro.IdBanco" }';
    var MsjEliminar = "¿Esta seguro de eliminar el banco? esta acción no se puede deshacer";
    var SourceAction = "jsActionsource";
    var RutaExportarPDF = "@Url.Action("Bancos", "ReportesPDF")";//"/Tesoreria/ReportesPDF/Bancos";
    $(function () {
        $("body").on("click", "#js_mImprimir", ExportarPDFCatalogo);
        ConstruirTabla(TableId, "No hay bancos...");
        $("body").tooltip({ selector: "[data-toggle='tooltip']" });
        $("body").on("click", "#js_mNuevo", Nuevo);
        $("#" + TableId).on("click", ".js_editar", Editar);
        $("#" + TableId).on("click", ".js_eliminar", Eliminar);
        $("#" + TableId).on("click", ".js_detalles", Detalles);
        $("body").on("click", "#js_mSalir", function () {
            GoHome();
            return false;
        });
    });
</script>

<script type="text/template" id="jsActionsource">
    <div class="acciones">
        <i class="fa fa-pencil js_editar" data-id="<%= Id %>" title="Editar" data-toggle="tooltip" data-placement="top"></i>
        <i class="fa fa-bars js_detalles" data-id="<%= Id %>" title="Detalles" data-toggle="tooltip" data-placement="top"></i>
        <i class="fa fa fa-trash-o js_eliminar" data-id="<%= Id %>" title="Eliminar" data-toggle="tooltip" data-placement="top"></i>
    </div>
</script>
}
