@model IEnumerable<TesoreriaVS12.Areas.Tesoreria.Models.ReporteClavePresupuestariaModel>


@if (ViewBag.Imprimir)
{
    ViewBag.Title = "Clasificación por Objeto del Gasto";
    Layout = null;
    var imagePath = Server.MapPath("~/Images");
    var cssPath = Server.MapPath("~/Content");

    @Html.Partial("PdfHeader")
    <link href="@cssPath/bootstrap.min.css" rel="stylesheet" />
    <link href="@cssPath/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="@cssPath/font-awesome.min.css" rel="stylesheet" />
    <link href="@cssPath/reporteGeneral.css" rel="stylesheet" />
    <link href="@cssPath/ReporteClave.css" rel="stylesheet" />
}
else
{
    Layout = null;
}
<div id="js_busquedaImpreso">
    <div class="green titulos">
        <div class="row">
            <div class="col-sm-12 text-center">
                <label>@TesoreriaVS12.Models.Logueo.GetParametro("Titulo2")</label>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 text-center">
                <label>Estado Analítico del Ejercicio del Presupuesto de Egresos</label>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 text-center">
                <label>Clasificación Funcional (Finalidad y Función)</label>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12 text-center">
                <label>@HttpContext.Current.Session["Ejercicio"]</label>
            </div>
        </div>
    </div>
    <div class="row ">
        <div class="col-sm-12">
            <table class="contenedor tablaGrande">
                <thead>
                    <tr>
                        <th rowspan="2" class="text-center">
                            @Html.DisplayNameFor(model => model.Concepto)
                        </th>
                        <th colspan="5" class="text-center">
                            Egresos
                        </th>
                        <th rowspan="2" class="text-center">
                            @Html.DisplayNameFor(model => model.Subejercicio)
                        </th>
                    </tr>
                    <tr>
                        <th class="text-center">
                            @Html.DisplayNameFor(model => model.Aprobado)
                        </th>
                        <th class="text-center">
                            @Html.DisplayNameFor(model => model.AmpRed)
                        </th>
                        <th class="text-center">
                            @Html.DisplayNameFor(model => model.Modificado)
                        </th>
                        <th class="text-center">
                            @Html.DisplayNameFor(model => model.Devengado)
                        </th>
                        <th class="text-center">
                            @Html.DisplayNameFor(model => model.Pagado)
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>PROGRAMAS</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="">
                        <td class="mayus Nivel2">
                            Subsidios: Sector Social y Privado o Entidades Federativas y Municipios
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "S" || x.Clave == "U").Sum(x => x.Aprobado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "S" || x.Clave == "U").Sum(x => x.AmpRed).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "S" || x.Clave == "U").Sum(x => x.Modificado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "S" || x.Clave == "U").Sum(x => x.Devengado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "S" || x.Clave == "U").Sum(x => x.Pagado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "S" || x.Clave == "U").Sum(x => x.Subejercicio).ToString("N")
                        </td>
                    </tr>
                    @foreach (var item in Model.Where(x => x.Clave == "S" || x.Clave == "U").OrderBy(x => x.Clave))
                    {
                        <tr class="">
                            <td class="Nivel3">
                                @Html.DisplayFor(modelItem => item.Concepto)
                            </td>
                            <td class="text-right txtNegritas ">
                                @Html.Encode(item.Aprobado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas ">
                                @Html.Encode(item.AmpRed.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  yellow">
                                @Html.Encode(item.Modificado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Devengado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Pagado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  yellow">
                                @Html.Encode(item.Subejercicio.ToString("N"))
                            </td>
                        </tr>

                    }
                    <tr class="">
                        <td class="mayus Nivel2">
                            Desempeño de las Funciones
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "E" || x.Clave == "B" || x.Clave == "P" || x.Clave == "F" || x.Clave == "G" || x.Clave == "A" || x.Clave == "R" || x.Clave == "K").Sum(x => x.Aprobado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "E" || x.Clave == "B" || x.Clave == "P" || x.Clave == "F" || x.Clave == "G" || x.Clave == "A" || x.Clave == "R" || x.Clave == "K").Sum(x => x.AmpRed).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "E" || x.Clave == "B" || x.Clave == "P" || x.Clave == "F" || x.Clave == "G" || x.Clave == "A" || x.Clave == "R" || x.Clave == "K").Sum(x => x.Modificado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "E" || x.Clave == "B" || x.Clave == "P" || x.Clave == "F" || x.Clave == "G" || x.Clave == "A" || x.Clave == "R" || x.Clave == "K").Sum(x => x.Devengado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "E" || x.Clave == "B" || x.Clave == "P" || x.Clave == "F" || x.Clave == "G" || x.Clave == "A" || x.Clave == "R" || x.Clave == "K").Sum(x => x.Pagado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "E" || x.Clave == "B" || x.Clave == "P" || x.Clave == "F" || x.Clave == "G" || x.Clave == "A" || x.Clave == "R" || x.Clave == "K").Sum(x => x.Subejercicio).ToString("N")
                        </td>
                    </tr>
                    @foreach (var item in Model.Where(x => x.Clave == "E" || x.Clave == "B" || x.Clave == "P" || x.Clave == "F" || x.Clave == "G" || x.Clave == "A" || x.Clave == "R" || x.Clave == "K").OrderBy(x => x.Clave))
                    {
                        <tr class="">
                            <td class="Nivel3">
                                @Html.DisplayFor(modelItem => item.Concepto)
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Aprobado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.AmpRed.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  yellow">
                                @Html.Encode(item.Modificado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Devengado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Pagado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  yellow">
                                @Html.Encode(item.Subejercicio.ToString("N"))
                            </td>
                        </tr>

                    }
                    <tr class="">
                        <td class="mayus Nivel2">
                            Administrativos y de Apoyo
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "M" || x.Clave == "O" || x.Clave == "W").Sum(x => x.Aprobado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "M" || x.Clave == "O" || x.Clave == "W").Sum(x => x.AmpRed).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "M" || x.Clave == "O" || x.Clave == "W").Sum(x => x.Modificado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "M" || x.Clave == "O" || x.Clave == "W").Sum(x => x.Devengado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "M" || x.Clave == "O" || x.Clave == "W").Sum(x => x.Pagado).ToString("N")
                        </td>
                        <td class="text-right txtNegritas  yellow">
                            @Model.Where(x => x.Clave == "M" || x.Clave == "O" || x.Clave == "W").Sum(x => x.Subejercicio).ToString("N")
                        </td>
                    </tr>
                    @foreach (var item in Model.Where(x => x.Clave == "M" || x.Clave == "O" || x.Clave == "W").OrderBy(x => x.Clave))
                    {
                        <tr class="">
                            <td class="Nivel3">
                                @Html.DisplayFor(modelItem => item.Concepto)
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Aprobado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.AmpRed.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  yellow">
                                @Html.Encode(item.Modificado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Devengado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Pagado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  yellow">
                                @Html.Encode(item.Subejercicio.ToString("N"))
                            </td>
                        </tr>

                    }
                    @foreach (var item in Model.Where(x => x.Clave == "C" || x.Clave == "D" || x.Clave == "H").OrderBy(x => x.Clave))
                    {
                        <tr class="">
                            <td class="">
                                @Html.DisplayFor(modelItem => item.Concepto)
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Aprobado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.AmpRed.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  yellow">
                                @Html.Encode(item.Modificado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Devengado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  ">
                                @Html.Encode(item.Pagado.ToString("N"))
                            </td>
                            <td class="text-right txtNegritas  yellow">
                                @Html.Encode(item.Subejercicio.ToString("N"))
                            </td>
                        </tr>

                    }
                    <tr class="border">
                        <td class="text-center txtNegritas">
                            Total del Gasto
                        </td>
                        <td class="text-right yellow txtNegritas">
                            @Model.Sum(x => x.Aprobado).ToString("N")
                        </td>
                        <td class="text-right yellow txtNegritas">
                            @Model.Sum(x => x.AmpRed).ToString("N")
                        </td>
                        <td class="text-right yellow txtNegritas">
                            @Model.Sum(x => x.Modificado).ToString("N")
                        </td>
                        <td class="text-right yellow txtNegritas">
                            @Model.Sum(x => x.Devengado).ToString("N")
                        </td>
                        <td class="text-right yellow txtNegritas">
                            @Model.Sum(x => x.Pagado).ToString("N")
                        </td>
                        <td class="text-right yellow txtNegritas">
                            @Model.Sum(x => x.Subejercicio).ToString("N")
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
