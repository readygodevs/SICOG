var ultimo=!1,nuevoDePolizas=function(){var n=parseInt($("input[name=TipoCaptura]:checked").val()),t;console.log(typeof n);typeof n!="number"&&(n=2);switch(n){case 1:$("#_detalles_polizas").ajaxLoad({url:"/Tesoreria/Cuentas/partialClavePresupuestalCRI",callback:function(){eventFocusCRI();$(".container input[type=text], textarea").val("");$(".container select").attr("disabled","disabled");$("#_detalles_polizas input[type=text],select,textarea").attr("disabled","disabled");$(".js_MovBancario").addClass("hide");$("#Id_Movimiento").val(2);$("input[type=text], select, #Id_Registro").val("")}});break;case 2:t=$("#Id_Fuente_Filtro").val();$("#_detalles_polizas").ajaxLoad({url:"/Tesoreria/Cuentas/partialClavePresupuestal",callback:function(){$("#Id_Fuente_Filtro").val(t);eventFocus();$(".js_Captura").parent().parent().parent().show();$("#_detalles_polizas input[type=text],select,textarea").attr("disabled","disabled");$("#Id_Cuenta, .js_Descripcion").attr("readonly","readonly");$(".container input[type=text], textarea").val("");$(".container select").attr("disabled","disabled");$("#Id_Area").removeAttr("disabled");$("#Id_Area").removeAttr("readonly");$(".js_MovBancario").addClass("hide");$("input[type=text], select, #Id_Registro").val("")}});break;case 3:$("#_detalles_polizas").ajaxLoad({url:"/Tesoreria/Cuentas/partialClavePresupuestal",callback:function(){eventFocusBalance();$(".js_Captura").parent().parent().parent().hide();$("#AnioFin").parent().parent().hide();$("#Id_Cuenta").removeAttr("disabled");$("input[type=text], #Id_Registro").val("");$(".js_Descripcion").attr("disabled","disabled");$(".js_CuentaHiden").show()}})}$(".js_Descripcion").attr("disabled","disabled");recargarMenuLateral(["bCancelar","bGuardar","bSalir"])},editarDePolizas=function(){switch(parseInt($("input[name=TipoCaptura]:checked").val())){case 1:ErrorCustom("Por el momento no puedes capturar detalles del tipo CRI","");break;case 2:ajaxJson("/Tesoreria/FocusOut/Areas",{},"POST",!0,function(n){$("#Id_Area").typeahead({source:n.Data})});$("#Id_Cuenta, .js_Descripcion").attr("readonly","readonly");$(".container select").attr("disabled","disabled");$("#Id_Area").removeAttr("disabled");$("#Id_Area").removeAttr("readonly");addButtons(["bGuardar","bCancelar"]);eventFocus();break;case 3:$(".container select, input[type=text]").attr("readonly","readonly");$("#Id_Area").attr("disabled","disabled");$("#Id_Cuenta, #Importe, #Id_Movimiento, #DescripcionMP").removeAttr("disabled");$("#Id_Cuenta, #Importe, #Id_Movimiento, #DescripcionMP").removeAttr("readonly");addButtons(["bGuardar","bCancelar"])}},seleccionarDetalle=function(){ajaxJson("/Tesoreria/Polizas/getDetalle",{IdTipo:$(this).data("idtipo"),IdFolio:$(this).data("idfolio"),IdMes:$(this).data("idmes"),IdRegistro:$(this).data("registro")},"POST",!0,function(n){var t=n;switch(t.Tipo){case 1:$("input[name=TipoCaptura][value=1]").trigger("click");$("#_detalles_polizas").ajaxLoad({url:"/Tesoreria/Cuentas/partialClavePresupuestalCRI",callback:function(){$(".container input[type=text], textarea").val("");$(".container select").attr("disabled","disabled");$("#frmDePolizas input[type=text],select,textarea").attr("disabled","disabled");llenarMaestro(t.Registro);$("#Importe").formatCurrency();$(".js_MovBancario").addClass("hide")}});break;case 2:$("input[name=TipoCaptura][value=2]").trigger("click");$("#_detalles_polizas").ajaxLoad({url:"/Tesoreria/Cuentas/partialClavePresupuestal",callback:function(){$(".js_Captura").parent().parent().parent().show();$("#_detalles_polizas input[type=text],select,textarea").attr("disabled","disabled");$("#Id_Cuenta, .js_Descripcion").attr("readonly","readonly");$(".container input[type=text], textarea").val("");$(".container select").attr("disabled","disabled");$(".js_MovBancario").addClass("hide");$("#frmDePolizas input[type=text],select,textarea").attr("disabled","disabled");llenarMaestro(t.Registro);$("#Importe").formatCurrency()}});break;case 3:$("input[name=TipoCaptura][value=3]").trigger("click");$("#_detalles_polizas").ajaxLoad({url:"/Tesoreria/Cuentas/partialClavePresupuestal",callback:function(){$(".js_Captura").parent().parent().parent().hide();$("#AnioFin").parent().parent().hide();$("#frmDePolizas input[type=text],select,textarea").attr("disabled","disabled");llenarMaestro(t.Registro);$("#Importe").formatCurrency();$(".js_CuentaHiden").show()}})}recargarBotoneraDetalles()})},guardarDetalle=function(){var n=$("#Id_Area").val()+$("#Id_Funcion").val()+$("#Id_Actividad").val()+$("#Id_ClasificacionP").val()+$("#Id_Programa").val()+$("#Id_Proceso").val()+$("#Id_TipoMeta").val()+$("#Id_ActividadMIR").val()+$("#Id_Accion").val()+$("#Id_Alcance").val()+$("#Id_TipoG").val()+$("#Id_Fuente").val()+$("#AnioFin").val()+$("#Id_ObjetoG").val();$("#Importe").toNumber();$(".js_Descripcion").attr("disabled","disabled");$("#Id_Movimiento").val()==1?guardarCargo(n):guardarAbono(n)},guardarAbono=function(){$("#frmDePolizas").valid()&&ajaxJson($("#frmDePolizas").attr("action"),$("#frmDePolizas").serialize(),"POST",!0,function(n){n.Exito?ExitoCustom("El registro se ha guardado correctamente",function(){llenarMaestro(n.Registro);$("#Importe").formatCurrency({symbol:""});$("input[type=text], select").attr("disabled","disabled");recargarMenuLateral(["bNuevo","bEliminar","bSalir"]);cargarTablaDePolizas()}):ErrorCustom(n.Mensaje)})},guardarCargo=function(n){$("#frmDePolizas").valid()&&(parseInt($("input[name=TipoCaptura]:checked").val())==2?ajaxJson("/Tesoreria/Compromisos/getDisponibilidad",{cve:n,importe:$("#Importe").val(),fecha:$("#Fecha").val()},"POST",!0,function(n){n.Error||(n.Data.Disponibilidad?ajaxJson($("#frmDePolizas").attr("action"),$("#frmDePolizas").serialize(),"POST",!0,function(n){n.Exito?ExitoCustom("El registro se ha guardado correctamente",function(){cargarTablaDePolizas();llenarMaestro(n.Registro);$("#Importe").formatCurrency({symbol:""});$("input[type=text], select").attr("disabled","disabled");recargarMenuLateral(["bNuevo","bEliminar","bSalir"])}):ErrorCustom(n.Mensaje)}):n.Data.SinDisponibilidad==!1&&n.Data.Disponibilidad==!1?ErrorCustom("Esta clave presupuestal no cuenta con disponibilidad.",""):n.Data.SinDisponibilidad&&n.Data.Disponibilidad==!1&&ConfirmCustom("Esta clave presupuestal no cuenta con disponibilidad. ¿Desea continuar?",function(){ajaxJson($("#frmDePolizas").attr("action"),$("#frmDePolizas").serialize(),"POST",!0,function(n){n.Exito?ExitoCustom("El registro se ha guardado correctamente",function(){cargarTablaDePolizas();llenarMaestro(n.Registro);$("#Importe").formatCurrency({symbol:""});$("input[type=text], select").attr("disabled","disabled");recargarMenuLateral(["bNuevo","bEliminar","bSalir"])}):ErrorCustom(n.Mensaje)})},"","Continuar","Cancelar"))}):ajaxJson($("#frmDePolizas").attr("action"),$("#frmDePolizas").serialize(),"POST",!0,function(n){n.Exito?ExitoCustom("El registro se ha guardado correctamente",function(){cargarTablaDePolizas();llenarMaestro(n.Registro);$("#Importe").formatCurrency({symbol:""});$("input[type=text], select").attr("disabled","disabled");recargarMenuLateral(["bNuevo","bEliminar","bSalir"])}):ErrorCustom(n.Mensaje)}))},buildFiltros=function(){var n={};switch(parseInt($("input[name=TipoCaptura]:checked").val())){case 1:n.GeneroStr="4";n.IdCuenta=$("#IdCuenta").length>0?$("#IdCuenta").val():$("#Id_Cuenta").val();$("#Descripcion_filtro").length>0?n.Descripcion=$("#Descripcion_filtro").val():n.Descipcion=$("#Descripcion").val();n.selectUltimoNivel=!0;n.IdCri=$("#Id_Concepto").val();break;case 3:n.GeneroStr="1,2,3,6,7,9";n.IdCuenta=$("#IdCuenta").length>0?$("#IdCuenta").val():$("#Id_Cuenta").val();$("#Descripcion_filtro").length>0?n.Descripcion=$("#Descripcion_filtro").val():n.Descipcion=$("#Descripcion").val();n.selectUltimoNivel=!0}return n},validacionesDePolizas=function(){$("#Ca_ClasificaPolizas_Automatica").val()=="True"&&$("#_detalles_polizas input,select,textarea").attr("disabled","disabled")},seleccionarCuenta=function(){var n=$(this);$("#Id_Cuenta").val(n.data("idcuenta"));$("#Ca_Cuentas_Descripcion").val(n.data("descripcion"));$(".IdModal").modal("hide");$("#Id_Movimiento").removeAttr("disabled")},eleiminarDePolizas=function(){var n=$(this);ConfirmCustom("¿Está seguro de eliminar el detalle?",function(){ajaxJson("/Tesoreria/Polizas/EliminarDePolizas",{IdTipo:$("#Id_TipoPoliza").val(),IdFolio:$("#Id_FolioPoliza").val(),IdMes:$("#Id_MesPoliza").val(),IdRegistro:$("#Id_Registro").val()},"POST",!0,function(n){n.Exito==!0&&ExitoCustom("El detalle se eliminó correctamente",function(){var n=$("#tbldetalles").dataTable();ultimo=$("#tbldetalles tbody tr").length==1?!0:!1;cargarTablaDePolizas();limpiarDetalle();recargarMenuLateral(["bNuevo","bSalir"])})})},"","Si","Cancelar")},recargarBotoneraDetalles=function(){$("#js_mNuevo").length>0&&(recargarMenuLateral(["bNuevo","bEliminar","bSalir"]),$("#Id_Area").length>0&&($("#Id_Area").removeAttr("disabled"),$("#Id_Area").removeAttr("readonly")),$("#Id_CentroRecaudador").length>0&&($("#Id_CentroRecaudador").removeAttr("disabled"),$("#Id_CentroRecaudador").removeAttr("readonly")),$("#Id_Cuenta").length>0&&parseInt($("input[name=TipoCaptura]:checked").val())==3&&$("#Id_Cuenta").removeAttr("disabled"))},limpiarDetalle=function(){$("input[type=text], select").val("").attr("disabled","disabled")},cargarTablaDePolizas=function(){var n=getUrlVars();$("#container_DetallesPolizas").ajaxLoad({url:"/Tesoreria/Polizas/TablaDetallesPoliza",data:{IdTipo:n.IdTipo,IdFolio:n.IdFolio,IdMes:n.IdMes},method:"POST"})};
//# sourceMappingURL=Polizas.min.js.map
