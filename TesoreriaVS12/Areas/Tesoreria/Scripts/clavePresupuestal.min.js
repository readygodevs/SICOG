focoJsCaptura=function(){$(".js_Captura").on("focusout",function(){var n=$(this);$(this).val().length>0&&$.inArray($(this).val(),$(this).data("dataSource"))==-1&&($(this).parent().parent().parent().find(".js_Descripcion").val(""),$(this).val("").focus(),$(this).parent().parent().parent().nextAll().find(".js_Captura").attr("disabled","disabled").val("").typeahead("destroy"),$(this).parent().parent().parent().nextAll().find(".js_Descripcion").val(""),$("#Id_Cuenta").empty(),setTimeout(function(){n.focus()},100))})};var eventFocus=function(){$.each($(".js_Captura"),function(n,t){$("body").off("change","#"+$(t).attr("id"))});$(".js_Captura").off("focusout");ajaxJson("/Tesoreria/FocusOut/Areas",{Id_Fuente_Filtro:$("#Id_Fuente_Filtro").val()},"POST",!0,function(n){changeCOG();focoJsCaptura();$("#Id_Area").typeahead({source:n.Data});$("#Id_Area").data("dataSource",n.Ids);n.Data.length==1&&($("#Id_Area").val(n.Data[0]),$("#Id_Area").trigger("change"));$("#Id_Area").removeAttr("disabled")})},eventFocusCRI=function(){$("body").off("change","#Id_Fuente");$.each($(".js_Captura"),function(n,t){$("body").off("change","#"+$(t).attr("id"))});$(".js_Captura").off("focusout");ajaxJson("/Tesoreria/FocusOut/CentroRecaudador",{},"POST",!0,function(n){changeCRI();focoJsCaptura();$("#Id_CentroRecaudador").typeahead({source:n.Data});$("#Id_CentroRecaudador").data("dataSource",n.Ids);n.Data.length==1&&($("#Id_CentroRecaudador").val(n.Data[0]),$("#Id_CentroRecaudador").trigger("change"));$("#Id_CentroRecaudador").removeAttr("disabled")})},eventFocusBalance=function(){$.each($(".js_Captura"),function(n,t){$("body").off("change","#"+$(t).attr("id"))});var n={};n=typeof buildFiltros!="undefined"?buildFiltros():{GeneroStr:"1,2,3,6,7,9",selectUltimoNivel:!0,UltimoNivel:!0};ajaxJson("/Tesoreria/FocusOut/SearchCuentasBalance",n,"POST",!0,function(n){focoJsCaptura();$("#Id_Cuenta").removeAttr("disabled");$("#Id_Cuenta").typeahead({source:n.Data,items:15});$("#Id_Cuenta").data("dataSource",n.Ids);$("#Id_Cuenta").data("dataBancos",n.cuentasBancos);n.Data.length==1&&($("#Id_Cuenta").val(n.Data[0]),$("#Id_Cuenta").trigger("change"))});$("body").on("change","#Id_Cuenta",function(){if($(this).val().split("-").length!=1&&($("#Ca_Cuentas_Descripcion").val($(this).val().split("-")[1]),$(this).val($(this).val().split("-")[0]),$(this).val().length==20)){$("#Importe").removeAttr("disabled").focus();$("#Id_Movimiento, #DescripcionMP").removeAttr("disabled");var t=$(this).val(),n=!1;$.each($(this).data("dataBancos"),function(i,r){if(t.substring(0,r.length)==r){n=!0;return}});n?($(".js_MovBancario").removeClass("hide"),$("#IdTipoMovB").removeAttr("disabled"),ajaxSelect("/Tesoreria/Polizas/ListTipoMovBancario",{TipoMov:$("#Id_Movimiento").val()},"POST",!0,"IdTipoMovB","",callBackLlenarSelect)):($(".js_MovBancario").addClass("hide"),$("#IdTipoMovB").val(""))}});$("body").on("change","#Id_Movimiento",function(){$("#IdTipoMovB").removeAttr("disabled");ajaxSelect("/Tesoreria/Polizas/ListTipoMovBancario",{TipoMov:$("#Id_Movimiento").val()},"POST",!0,"IdTipoMovB","",callBackLlenarSelect)})},changeCOG=function(){$.each($(".js_Captura"),function(n,t){$("body").on("change","#"+$(t).attr("id"),function(){if($("#Id_Cuenta").empty(),$(t).val().split("-").length!=1&&($(t).parent().parent().siblings().find(".js_Descripcion").val($(t).val().split("-")[1]),$(t).val($(t).val().split("-")[0]),$(t).val().length==$(t).data("length"))){var i=$(".js_Captura"),n=i.eq(i.index(t)+1);n.val("").removeAttr("disabled").focus();ajaxJson("/Tesoreria/FocusOut/GenericSearchClave",$(".js_frmClavePresupuestal").serialize()+"&Id_Actual="+$(t).attr("id"),"POST",!0,function(i){n.typeahead("destroy");n.typeahead({source:i.Data});n.data("dataSource",{});n.data("dataSource",i.Ids);$(t).attr("id")=="Id_ObjetoG"&&($("#Importe, #Id_Movimiento,#DescripcionMP").val("").removeAttr("disabled"),$("#Importe").focus(),$("#Id_Cuenta").removeAttr("readonly"));i.Data.length==1&&(n.val(i.Data[0]),n.trigger("change"))})}})});$("body").on("change","#Id_Cuenta",function(){$(this).val().split("-").length!=1&&($("#Ca_Cuentas_Descripcion").val($(this).val().split("-")[1]),$(this).val($(this).val().split("-")[0]),$(this).val().length==20&&($("#Id_Cuenta").removeAttr("disabled").focus(),$("#Id_Movimiento,#Importe,#DescripcionMP").removeAttr("disabled"),setTimeout(function(){$("#Importe").focus()},100)))})},changeCRI=function(){$("body").on("change","#Id_CentroRecaudador",function(){if($(this).val().split("-").length!=1&&($("#Ca_CentroRecaudador_Descripcion").val($(this).val().split("-")[1]),$(this).val($(this).val().split("-")[0]),$(this).val().length==6)){$("#Id_Fuente").val("").removeAttr("disabled");var n=$(".js_Captura");n.eq(n.index(this)+1).focus();ajaxJson("/Tesoreria/FocusOut/FuenteCRI",{IdCentroR:$("#Id_CentroRecaudador").val()},"POST",!0,function(n){$("#Id_Fuente").typeahead({source:n.Data});$("#Id_Fuente").data("dataSource",n.Ids);n.Data.length==1&&($("#Id_Fuente").val(n.Data[0]),$("#Id_Fuente").trigger("change"))})}});$("body").on("change","#Id_Fuente",function(){if($(this).val().split("-").length!=1&&($("#Ca_FuentesFin_Ing_Descripcion").val($(this).val().split("-")[1]),$(this).val($(this).val().split("-")[0]),$(this).val().length==4)){$("#Id_Alcance").val("").removeAttr("disabled");$("#AnioFin").removeAttr("disabled");var n=$(".js_Captura");n.eq(n.index(this)+1).focus();ajaxJson("/Tesoreria/FocusOut/AnioFinCRI",{IdCentroR:$("#Id_CentroRecaudador").val(),IdFuente:$("#Id_Fuente").val()},"POST",!0,function(n){$("#AnioFin").typeahead({source:n.Data});$("#AnioFin").data("dataSource",n.Ids);n.Data.length==1&&($("#AnioFin").val(n.Data[0]),$("#AnioFin").trigger("change"))})}});$("body").on("change","#AnioFin",function(){if($(this).val().split("-").length!=1&&($(this).val($(this).val().split("-")[0]),$(this).val().length==2)){$("#Id_ObjetoG").val("").removeAttr("disabled");var n=$(".js_Captura");n.eq(n.index(this)+1).focus();ajaxJson("/Tesoreria/FocusOut/AlcanceCRI",{IdAnio:$("#AnioFin").val(),IdCentroR:$("#Id_CentroRecaudador").val(),IdFuente:$("#Id_Fuente").val()},"POST",!0,function(n){$("#Id_Alcance").typeahead({source:n.Data});$("#Id_Alcance").data("dataSource",n.Ids);n.Data.length==1&&($("#Id_Alcance").val(n.Data[0]),$("#Id_Alcance").trigger("change"))})}});$("body").on("change","#Id_Alcance",function(){if($(this).val().split("-").length!=1&&($("#Ca_AlcanceGeo_Descripcion").val($(this).val().split("-")[1]),$(this).val($(this).val().split("-")[0]),$(this).val().length==1)){$("#Id_Concepto").val("").removeAttr("disabled");var n=$(".js_Captura");n.eq(n.index(this)+1).focus();ajaxJson("/Tesoreria/FocusOut/ConceptoCRI",{IdAlcance:$("#Id_Alcance").val(),IdCentroR:$("#Id_CentroRecaudador").val(),IdFuente:$("#Id_Fuente").val()},"POST",!0,function(n){$("#Id_Concepto").typeahead({source:n.Data});$("#Id_Concepto").data("dataSource",n.Ids);n.Data.length==1&&($("#Id_Concepto").val(n.Data[0]),$("#Id_Concepto").trigger("change"))})}});$("body").on("change","#Id_Concepto",function(){$(this).val().split("-").length!=1&&($("#Ca_ConceptoIngresos_Descripcion").val($(this).val().split("-")[1]),$(this).val($(this).val().split("-")[0]),$(this).val().length==3&&($("#IdCur").val("").removeAttr("disabled"),ajaxJson("/Tesoreria/FocusOut/CUR",{IdConcepto:$("#Id_Concepto").val()},"POST",!0,function(n){$("#IdCur").typeahead({source:n.Data});$("#IdCur").data("dataSource",n.Ids);n.Data.length==1&&($("#IdCur").val(n.Data[0]),$("#IdCur").trigger("change"))}),ajaxJson("/Tesoreria/FocusOut/CuentasPorCRI",{IdConcepto:$("#Id_Concepto").val()},"POST",!0,function(n){$("#Id_Cuenta").removeAttr("disabled");$("#Id_Cuenta").typeahead({source:n.Data});$("#Id_Cuenta").data("dataSource",n.Ids);n.Data.length==1?($("#Id_Cuenta").val(n.Data[0]),$("#Id_Cuenta").trigger("change"),$("#Importe").focus()):$("#Id_Cuenta").focus()})))});$("body").on("change","#IdCur",function(){$(this).val().split("-").length!=1&&($("#Ca_Cur_Descripcion").val($(this).val().split("-")[1]),$(this).val($(this).val().split("-")[0]),$(this).val().length==3&&($("#Id_Cuenta").removeAttr("disabled").focus(),$("#Importe").removeAttr("disabled")))});$("body").on("change","#Id_Cuenta",function(){$(this).val().split("-").length!=1&&($("#Ca_Cuentas_Descripcion").val($(this).val().split("-")[1]),$(this).val($(this).val().split("-")[0]),$(this).val().length==20&&($("#Id_Cuenta").removeAttr("disabled").focus(),$("#Importe").removeAttr("disabled").focus(),$("#Id_Movimiento, #DescripcionMP").removeAttr("disabled")))})},cargarCuentasCRI=function(n){ajaxSelect("/Tesoreria/FocusOut/CuentasPorCRI",{IdCur:n},"POST",!0,"Id_Cuenta","",function(n){$("#Id_Cuenta").empty();$("#Id_Cuenta").append("<option value=''>--Selecciona una cuenta--<\/option>");$.each(n,function(n,t){var r=t.Text.split("$")[1],i=t.Text.split("$")[0];t.Selected==!0?($("#Id_Cuenta").append("<option selected='true' value='"+t.Value+"' data-descripcion='"+i+"'>"+r+"<\/option>"),$("#Ca_Cuentas_Descripcion").val(i)):$("#Id_Cuenta").append("<option value='"+t.Value+"' data-descripcion='"+i+"'>"+r+"<\/option>")})})},cargarCuetnasObjetoGasto=function(n){ajaxSelect("/Tesoreria/FocusOut/CuentasPorOG",{Id_ObjetoG:n},"POST",!0,"Id_Cuenta","",function(n){$("#Id_Cuenta").empty();$("#Id_Cuenta").append("<option value=''>--Selecciona una cuenta--<\/option>");$.each(n,function(n,t){var r=t.Text.split("$")[1],i=t.Text.split("$")[0];t.Selected==!0?($("#Id_Cuenta").append("<option selected='true' value='"+t.Value+"' data-descripcion='"+i+"'>"+r+"<\/option>"),$("#Ca_Cuentas_Descripcion").val(i)):$("#Id_Cuenta").append("<option value='"+t.Value+"' data-descripcion='"+i+"'>"+r+"<\/option>")})})};
//# sourceMappingURL=clavePresupuestal.min.js.map
