 @model IEnumerable<TesoreriaVS12.Areas.Tesoreria.Models.Ma_CompromisosModel>

@{
    Layout = null;
}

@using (Html.BeginForm("GuardarComprimisoCR", "Contrarecibos", new { area = "Tesoreria" }, FormMethod.Post, new { id = "frmRelCompromisoCR" }))
{
    <table id="tablacompromisos" class="table table-striped table-bordered">
        <thead>
            <tr>
                <th></th>
                <th>Tipo de Compromiso</th>
                <th>Folio</th>
                <th>Beneficiario</th>
                <th>Fecha de Compromiso</th>
                <th>No. Requisición</th>
                <th>Fecha Requisición</th>
                <th>Orden de Compra</th>
                <th>Fecha Orden de Compra</th>
                <th>Adquisiciones</th>
                <th class="text-right">Importe</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            { 
            <tr>
                <td class="text-center"><input type="radio" name="Compromiso" data-foliocompromiso="@item.Id_FolioCompromiso" data-tipocompromiso="@item.Id_TipoCompromiso" data-foliocr="@ViewBag.FolioCR" data-tipocr="@ViewBag.TipoCr" /></td>
                <td>@item.Ca_TipoCompromisos.Descripcion</td>
                <td>@item.Id_FolioCompromiso</td>
                <td>@item.Ca_Beneficiarios.NombreCompleto</td>
                <td>@item.Fecha_Orden.Value.ToShortDateString()</td>
                <td>@item.No_Requisicion</td>
                <td>@String.Format("{0:d}",item.Fecha_Requisicion)</td>
                <td>@item.No_Adquisicion</td>
                <td>@String.Format("{0:d}",item.Fecha_Adquisicion)</td>
                <td>@(item.Adquisicion == true ? "SI" : "NO")</td>
                <td class="text-right">@String.Format("{0:N}",item.Cargos)</td>
            </tr>
            }
        </tbody>
        <tfoot>
            <tr>
                <th></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
                <th><input type="text" class="form-control" placeholder=""/></th>
            </tr>
        </tfoot>
    </table>
}

<script>
    $(document).ready(function () {
        setTimeout(function () {
            ConstruirTablaCustomWinni("tablacompromisos");
            $(".DTFC_RightWrapper").hide();
            
        //    var table = $('#tablacompromisos').DataTable({
        //        "sPaginationType": "full_numbers",
        //        "oLanguage": {
        //            "oPaginate": {
        //                "sPrevious": "Anterior",
        //                "sNext": "Siguiente",
        //                "sLast": "Última",
        //                "sFirst": "Primera"
        //            },
        //            "sLengthMenu": '<div id="combo_datatable">Mostrar <select>' +
        //            '<option value="5">5</option>' +
        //            '<option value="10">10</option>' +
        //            '<option value="20">20</option>' +
        //            '<option value="30">30</option>' +
        //            '<option value="40">40</option>' +
        //            '<option value="50">50</option>' +
        //            '<option value="-1">Todos</option>' +
        //            '</select> registros',
        //            "sInfo": "Mostrando del _START_ a _END_ (Total: _TOTAL_ resultados)",
        //            "sInfoFiltered": " - filtrados de _MAX_ registros",
        //            "sInfoEmpty": "No hay resultados de búsqueda",
        //            "sZeroRecords": "Ho hay Registros",
        //            "sProcessing": "Espere, por favor...",
        //            "sSearch": "<div id='div_buscar'><i class='fa fa-search'></i>Buscar:</div>"
        //        },
        //        "scrollX": true
        //    });
        

        //$("#tablacompromisos").DataTable().columns().eq(0).each(function (colIdx) {
        //    $('input', $("#tablacompromisos").DataTable().column(colIdx).footer()).on('keyup change', function () {
        //        $("#tablacompromisos").DataTable()
        //            .column(colIdx)
        //            .search(this.value)
        //            .draw();
        //    });
        //});
        }, 500);
        $(".DTFC_LeftBodyLiner").css("overflow-y", "none");
    });
</script>

