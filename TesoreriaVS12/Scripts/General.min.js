function VentanaModal(n,t,i,r,u){ajaxLoad(t,i,opcion,r,u);$("#MyModal"+n).modal("show")}Number.prototype.padLeft=function(n,t){return Array(n-String(this).length+1).join(t||"0")+this};var code400=function(){ErrorCustom("No tiene permisos de acceder!","")},code404=function(){ErrorCustom("La petición realizada no se encuentra, favor de intentarlo de nuevo mas tarde.","")},code500=function(){ErrorCustom("El servidor no se encuentra disponible, intenta de nuevo",function(){window.location.href=""})},code409=function(){ErrorCustom("Sesión ha expirado por inactividad en el sistema",function(){window.location.href="/Account/LogOff"})},ValidarFecha=function(){$.validator.methods.date=function(n,t){return Globalize.culture("es-MX"),this.optional(t)||Globalize.parseDate(n)!==null}},ajaxJson=function(n,t,i,r,u){i==""&&(i="POST");$.ajax({type:i,url:n,datatype:"JSON",async:r,cache:!1,data:t,statusCode:{200:function(n){if(u!=""){var t=$.Callbacks();t.add(u);t.fire(n)}},401:code400,404:code404,500:code500,409:code409}})},ajaxSelect=function(n,t,i,r,u,f,e){i==""&&(i="POST");$.ajax({type:i,datatype:"json",url:n,async:r,data:t,cache:!1,statusCode:{200:function(n){if(e!=""){var t=$.Callbacks();t.add(e);t.fire(n,u,f)}},401:code400,404:code404,500:code500,409:code409}})},ajaxLoad=function(n,t,i,r,u){typeof r=="undefined"&&(r="POST");$.ajax({type:r,datatype:"html",url:n,data:t,cache:!1,statusCode:{200:function(n){if($("#"+i).empty(),$("#"+i).html(n),u!=""){var t=$.Callbacks("memory once");t.add(u);t.fire(n,i)}},401:code400,404:code404,500:code500,409:code409}})},ExitoCustom=function(n,t){n=n==""||n==undefined?"<span>Los datos han sido guardados con éxito<\/span>":"<span>"+n+"<\/span>";bootbox.dialog({message:n,closeButton:!1,buttons:{success:{label:"<i class='icon-remove'><\/i> Cerrar",className:"btn-sm btn-success",callback:function(){if(t!=""){var n=$.Callbacks();n.add(t);n.fire()}}}}})},ErrorCustom=function(n,t){n=n==""||n==undefined?"<span>Ocurrió un error al procesar la petición<\/span>":"<span>"+n+"<\/span>";bootbox.dialog({message:n,closeButton:!1,buttons:{danger:{label:"<i class='icon-remove'><\/i> Cerrar",className:"btn-sm btn-danger",callback:function(){if(t!=""){var n=$.Callbacks();n.add(t);n.fire()}}}}})},ConfirmCustom=function(n,t,i,r,u){(r==""||r==undefined)&&(r="Aceptar");(u==""||u==undefined)&&(u="Cancelar");bootbox.dialog({message:n,closeButton:!1,buttons:{success:{label:r,className:"btn-sm btn-success",callback:function(){if(t!=""){var n=$.Callbacks();n.add(t);n.fire()}}},danger:{label:u,className:"btn-sm btn-danger",callback:function(){if(i!=""){var n=$.Callbacks();n.add(i);n.fire()}}}}})},customHTMLModal=function(n,t,i,r,u,f,e,o){var s={};u!=""&&(s.success={label:u,className:"btn-sm btn-success",callback:function(){if(i!=""){var n=$.Callbacks();return n.add(i),n.fire(),!1}}});f!=""&&(s.danger={label:f,className:"btn-sm btn-danger",callback:function(){if(r!=""){var n=$.Callbacks();n.add(r);n.fire()}}});bootbox.dialog({message:n,closeButton:!0,title:e,className:o,buttons:s});t!=""&&$("."+o).children().addClass("modal-"+t)},customModal=function(n,t,i,r,u,f,e,o,s,h){totalModal++;var c={};e!=""&&(c.success={label:e,className:"btn-sm btn-success",callback:function(){if(u!=""){var n=$.Callbacks();return n.add(u),n.fire(),!1}}});o!=""&&(c.danger={label:o,className:"btn-sm btn-danger",callback:function(){if(totalModal--,f!=""){var n=$.Callbacks();n.add(f);n.fire()}totalModal>0&&setTimeout(function(){$("body").addClass("modal-open")},500)}});$.ajax({url:n,type:i,data:t,datatype:"html",cache:!1,statusCode:{200:function(n){typeof n=="string"?(bootbox.dialog({message:n,closeButton:!0,title:s,className:h,buttons:c}),r!=""&&$("."+h).children().addClass("modal-"+r)):n.Exito==!1?ErrorCustom(n.Mensaje,""):llamarMaestro(n.Url,n.Parametros)},401:code400,404:code404,500:code500,409:code409}})},llamarMaestro=function(n,t){typeof t!="undefined"&&($.each(t,function(t,i){typeof i!="object"?$("#"+n).append('<input type="hidden" name="'+t+'" value="'+i+'" />'):$("#"+n).append("<input type='hidden' name='"+t+"' value='"+JSON.stringify(i)+"' />")}),$("#"+n).submit())},ConstruirTabla=function(n,t,r,u){var f,e,o;if((t==undefined||t=="")&&(t="No hay registros a mostrar"),f=$("#"+n+" > tbody").find("> tr:first > td").length,typeof r=="undefined"&&(r=1),u=typeof u=="undefined"?!1:!0,e=$("#"+n+" > tfoot").length,r==1){for(e==0?$("#"+n).append("<tfoot><tr class='tfootClass'><\/tr><\/tfoot>"):$("#"+n+" > tfoot").append("<tr class='tfootClass'><\/tr>"),i=0;i<f;i++)$("#"+n+" > tfoot").find(".tfootClass").append("<th><\/th>");$("#"+n+" tfoot th").each(function(){var t=$("#"+n+" thead th").eq($(this).index()).text();t.toLowerCase()=="acciones"&&(f-=1);t="Buscar "+t.trim();$(this).index()<f?$(this).html('<input type="text" class="form-control" placeholder=""/>'):$(this).html('<label class="fa fa-search"> Búsqueda específica<\/label>')})}return o=$("#"+n).dataTable({sPaginationType:"full_numbers",oLanguage:{oPaginate:{sPrevious:"Anterior",sNext:"Siguiente",sLast:"Última",sFirst:"Primera"},sLengthMenu:'<div id="combo_datatable">Mostrar <select><option value="5">5<\/option><option value="10">10<\/option><option value="20">20<\/option><option value="30">30<\/option><option value="40">40<\/option><option value="50">50<\/option><option value="-1">Todos<\/option><\/select> registros',sInfo:"Mostrando del _START_ a _END_ (Total: _TOTAL_ resultados)",sInfoFiltered:" - filtrados de _MAX_ registros",sInfoEmpty:"No hay resultados de búsqueda",sZeroRecords:t,sProcessing:"Espere, por favor...",sSearch:"<div id='div_buscar'><i class='fa fa-search'><\/i>Buscar:<\/div>"}}),r==1&&$("#"+n).DataTable().columns().eq(0).each(function(t){$("input",$("#"+n).DataTable().column(t).footer()).on("keyup change",function(){$("#"+n).DataTable().column(t).search(this.value).draw()})}),o},callBackLlenarSelect=function(n,t){var i=0;$("#"+t).empty();n.length!=0?($("#"+t).append("<option value=''>--Selecciona una opción--<\/option>"),$.each(n,function(n,r){i=r.Value;r.Selected==!0?$("#"+t).append("<option selected='true' value='"+r.Value+"'>"+r.Text+"<\/option>"):$("#"+t).append("<option value='"+r.Value+"'>"+r.Text+"<\/option>")}),n.length==1&&$("#"+t).val(i)):$("#"+t).append("<option value=''>--Sin Resultados--<\/option>")},abrirModal=function(n){$(n).modal({backdrop:"static"});$(n).modal("show");$(n+" .modal-title").text($(n+" .TituloModal").data("title"));$(n+" .js_btnOk").text($(n+" .btnOk").data("text"));$(n+" .js_btnCancel").text($(n+" .btnCancel").data("text"));$(n).modal("show")},openModal=function(n){typeof n=="string"&&(n={},n.Modal="MyModal1");$("#"+n.Modal).modal({backdrop:"static"});typeof n.Size!="undefined"&&$("#"+n.Modal+" .modal-dialog").addClass("modal-"+n.Size);$("#"+n.Modal).modal("show");$("#"+n.Modal+" .modal-title").text($("#"+n.Modal+" .TituloModal").data("title"));$("#"+n.Modal+" .js_btnOk").text($("#"+n.Modal+" .btnOk").data("text"));$("#"+n.Modal+" .js_btnCancel").text($("#"+n.Modal+" .btnCancel").data("text"))},closeModal=function(n){typeof n=="undefined"&&(n={},n.Modal="MyModal1");$("#"+n.Modal+" .modal-body").empty();$("#"+n.Modal).modal("hide");$("#"+n.Modal).removeClass("modal-lg modal-sm");$("."+n.Modal).empty();$("."+n.Modal).modal("hide");$("."+n.Modal).removeClass("modal-lg modal-sm")},AddTbl=function(n,t){var Datos=[],accionesPosicion=-1,myDate="";$.each($("#"+t+" th"),function(key,value){if(typeof $(value).data("title")!="undefined"){var x="response."+$(value).data("title");x=eval(x);typeof x=="boolean"&&(x=x==!0?"SI":"NO");$(value).data("title")=="Acciones"&&(accionesPosicion=key);($(value).data("title").indexOf("Fecha")>-1||$(value).data("title").indexOf("fecha")>-1)&&(myDate=new Date(parseInt(new String(x).replace(/\/+Date\(([\d+-]+)\)\/+/,"$1"))),x=myDate.getDate()+"/"+(myDate.getMonth()+1).padLeft(2)+"/"+myDate.getFullYear());Datos[key]=x}});var i=$("#"+t).dataTable(),r=i.fnAddData(Datos),u=i.fnSettings().aoData[r[0]].nTr;$("td",u)[accionesPosicion].setAttribute("class","acciones");aPos=-1},UpdateTbl=function(n,t,i){var Datos=[],accionesPosicion=-1,r;$.each($("#"+t+" th"),function(key,value){if(typeof $(value).data("title")!="undefined"){var x="response."+$(value).data("title");x=eval(x);typeof x=="boolean"&&(x=x==!0?"SI":"NO");$(value).data("title")=="Acciones"&&(accionesPosicion=key);($(value).data("title").indexOf("Fecha")>-1||$(value).data("title").indexOf("fecha")>-1)&&(myDate=new Date(parseInt(new String(x).replace(/\/+Date\(([\d+-]+)\)\/+/,"$1"))),x=myDate.getDate()+"/"+(myDate.getMonth()+1).padLeft(2)+"/"+myDate.getFullYear());Datos[key]=x}});r=$("#"+t).dataTable();r.fnUpdate(Datos,i)},llenarMaestro=function(n,t){typeof t=="undefined"&&(t="");$.each(n,function(n,i){switch(n.substring(0,5)){case"Fecha":i!=null&&$("#"+n).val(i).toDate();break;case"Lista":i!=null&&callBackLlenarSelect(i,n.substring(5,n.length),"");break;default:switch(n.substring(0,3)){case"Ca_":i!=null&&llenarMaestro(i,n+"_");break;case"De_":i==null||i instanceof Array||llenarMaestro(i,n+"_");break;default:$("#"+t+n).attr("type")=="checkbox"?$("#"+t+n).prop("checked",i):$("#"+t+n).val(i);$("#"+n).hasClass("js_importe")&&$("#"+n).formatCurrency({symbol:""})}}})},getUrlVars=function(){for(var t=[],n,r=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<r.length;i++)n=r[i].split("="),t.push(n[0]),t[n[0]]=n[1];return t},ConstruirTablaEmpty=function(n,t){(t==undefined||t=="")&&(t="No hay registros a mostrar");return $("#"+n).dataTable({paging:!1,info:!1,bInfo:!1,bFilter:!1,oLanguage:{sZeroRecords:t}})},addButtons=function(n){var t=[];$.each($("#menu-lateral ul li"),function(n,i){t[n]=$(i).data("name")});t.pop();$.each(n,function(n,i){$.inArray(i,t)==-1&&t.push(i)});t.push("bSalir");recargarMenuLateral(t)},createBotonera=function(n){botonera=[];$.each(n,function(n,t){botonera[n]=t});recargarMenuLateral(botonera)},GoHome=function(){window.location.href="/Home/Index"};
//# sourceMappingURL=General.min.js.map
